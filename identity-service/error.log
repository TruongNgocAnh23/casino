{"level":"error","message":"Registration error occured Joi.string.min is not a function","service":"identity-service","stack":"TypeError: Joi.string.min is not a function\n    at validateRegistration (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\utils\\validation.js:7:30)\n    at registerUser (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\controllers\\identity-controller.js:9:27)\n    at Layer.handleRequest (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:582:12)\n    at next (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:291:5)","timestamp":"2025-06-01T05:56:02.924Z"}
{"level":"error","message":"Registration error occured Joi.string.min is not a function","service":"identity-service","stack":"TypeError: Joi.string.min is not a function\n    at validateRegistration (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\utils\\validation.js:7:30)\n    at registerUser (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\controllers\\identity-controller.js:9:27)\n    at Layer.handleRequest (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:582:12)\n    at next (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:291:5)","timestamp":"2025-06-01T05:56:19.443Z"}
{"level":"error","message":"Registration error occured Joi.string.min is not a function","service":"identity-service","stack":"TypeError: Joi.string.min is not a function\n    at validateRegistration (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\utils\\validation.js:7:30)\n    at registerUser (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\controllers\\identity-controller.js:9:27)\n    at Layer.handleRequest (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:582:12)\n    at next (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:291:5)","timestamp":"2025-06-01T05:56:25.332Z"}
{"level":"error","message":"Registration error occured Joi.string.min is not a function","service":"identity-service","stack":"TypeError: Joi.string.min is not a function\n    at validateRegistration (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\utils\\validation.js:7:30)\n    at registerUser (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\controllers\\identity-controller.js:9:27)\n    at Layer.handleRequest (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:295:15\n    at processParams (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:582:12)\n    at next (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\node_modules\\router\\index.js:291:5)","timestamp":"2025-06-01T05:59:37.556Z"}
{"level":"error","message":"Registration error occured ccessToken is not defined","service":"identity-service","stack":"ReferenceError: ccessToken is not defined\n    at registerUser (D:\\SOCIAL-MEDIA-MICROSERVICES\\identity-service\\src\\controllers\\identity-controller.js:34:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-01T06:00:44.037Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-06-01T06:00:44.185Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-06-01T06:03:00.379Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-06-05T01:43:29.740Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-06-05T01:43:29.740Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-06-05T01:46:42.418Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","level":"error","message":"Unhandled Rejection at","service":"identity-service","timestamp":"2025-06-05T01:46:42.418Z"}
{"level":"error","message":"Unhandled Rejection at:","promise":{},"reason":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (D:\\casino\\identity-service\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","service":"identity-service","timestamp":"2025-06-05T01:53:36.176Z"}
{"level":"error","message":"Unhandled Rejection at:","promise":{},"reason":"MaxRetriesPerRequestError: Reached the max retries per request limit (which is 20). Refer to \"maxRetriesPerRequest\" option for details.\n    at Socket.<anonymous> (D:\\casino\\identity-service\\node_modules\\ioredis\\built\\redis\\event_handler.js:182:37)\n    at Object.onceWrapper (node:events:633:26)\n    at Socket.emit (node:events:518:28)\n    at TCP.<anonymous> (node:net:351:12)","service":"identity-service","timestamp":"2025-06-05T01:53:36.177Z"}
{"level":"error","message":"Unhandled Rejection at:","promise":{},"reason":"ReferenceError: RefreshToken is not defined\n    at generateTokens (D:\\casino\\identity-service\\src\\utils\\generateToken.js:16:5)\n    at registerUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:30:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"identity-service","timestamp":"2025-06-05T01:57:13.215Z"}
{"level":"error","message":"Unhandled Rejection at:","promise":{},"reason":"ReferenceError: RefreshToken is not defined\n    at generateTokens (D:\\casino\\identity-service\\src\\utils\\generateToken.js:16:5)\n    at registerUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:30:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"identity-service","timestamp":"2025-06-05T02:04:12.629Z"}
{"level":"error","message":"Unhandled Rejection at:","promise":{},"reason":"ReferenceError: RefreshToken is not defined\n    at generateTokens (D:\\casino\\identity-service\\src\\utils\\generateToken.js:16:5)\n    at registerUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:30:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"identity-service","timestamp":"2025-06-05T02:04:49.799Z"}
{"level":"error","message":"Unhandled Rejection at:","promise":{},"reason":"ReferenceError: RefreshToken is not defined\n    at generateTokens (D:\\casino\\identity-service\\src\\utils\\generateToken.js:16:5)\n    at registerUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:30:47)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","service":"identity-service","timestamp":"2025-06-05T02:06:45.699Z"}
{"level":"error","message":"Registration error occured user.comparePassword is not a function","service":"identity-service","stack":"TypeError: user.comparePassword is not a function\n    at loginUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:64:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-05T04:38:04.159Z"}
{"level":"error","message":"Registration error occured user.comparePassword is not a function","service":"identity-service","stack":"TypeError: user.comparePassword is not a function\n    at loginUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:64:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-05T04:38:07.512Z"}
{"level":"error","message":"Registration error occured user.comparePassword is not a function","service":"identity-service","stack":"TypeError: user.comparePassword is not a function\n    at loginUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:64:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-05T04:40:20.592Z"}
{"level":"error","message":"Registration error occured user.comparePassword is not a function","service":"identity-service","stack":"TypeError: user.comparePassword is not a function\n    at loginUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:64:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-05T04:40:22.872Z"}
{"level":"error","message":"Registration error occured user.comparePassword is not a function","service":"identity-service","stack":"TypeError: user.comparePassword is not a function\n    at loginUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:64:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-05T04:40:43.048Z"}
{"level":"error","message":"Registration error occured user.comparePassword is not a function","service":"identity-service","stack":"TypeError: user.comparePassword is not a function\n    at loginUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:64:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-05T04:43:07.838Z"}
{"level":"error","message":"Registration error occured user.comparePassword is not a function","service":"identity-service","stack":"TypeError: user.comparePassword is not a function\n    at loginUser (D:\\casino\\identity-service\\src\\controllers\\identity-controller.js:64:40)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-06-05T04:44:58.750Z"}
{"_message":"RefreshToken validation failed","errors":{"user_id":{"kind":"required","message":"Path `user_id` is required.","name":"ValidatorError","path":"user_id","properties":{"message":"Path `user_id` is required.","path":"user_id","type":"required"}}},"level":"error","message":"Login error occured RefreshToken validation failed: user_id: Path `user_id` is required.","service":"identity-service","stack":"ValidationError: RefreshToken validation failed: user_id: Path `user_id` is required.\n    at Document.invalidate (D:\\casino\\identity-service\\node_modules\\mongoose\\lib\\document.js:3343:32)\n    at D:\\casino\\identity-service\\node_modules\\mongoose\\lib\\document.js:3104:17\n    at D:\\casino\\identity-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-05T07:19:01.016Z"}
{"_message":"RefreshToken validation failed","errors":{"user_id":{"kind":"required","message":"Path `user_id` is required.","name":"ValidatorError","path":"user_id","properties":{"message":"Path `user_id` is required.","path":"user_id","type":"required"}}},"level":"error","message":"Login error occured RefreshToken validation failed: user_id: Path `user_id` is required.","service":"identity-service","stack":"ValidationError: RefreshToken validation failed: user_id: Path `user_id` is required.\n    at Document.invalidate (D:\\casino\\identity-service\\node_modules\\mongoose\\lib\\document.js:3343:32)\n    at D:\\casino\\identity-service\\node_modules\\mongoose\\lib\\document.js:3104:17\n    at D:\\casino\\identity-service\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2025-06-05T07:21:17.802Z"}
